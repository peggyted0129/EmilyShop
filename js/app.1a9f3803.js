(function(e){function t(t){for(var c,o,u=t[0],i=t[1],s=t[2],d=0,f=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],c=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(c=!1)}c&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},o={app:0},a={app:0},r=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0322802a":"9220f040","chunk-176c747f":"91b481a3","chunk-1835f624":"13ee354b","chunk-1f0b8032":"a621bfdc","chunk-2a62c222":"f740a521","chunk-2d213365":"cc0f3b3c","chunk-45f14e21":"eee64f8b","chunk-57757e35":"8347f2a9","chunk-5ab23881":"d434b91e","chunk-63503417":"1aaf4c0a","chunk-6b1bb9e7":"1cad0522","chunk-6b766f9c":"7785bc9f","chunk-74f551bf":"03826dea","chunk-7ab2493a":"fa65e7d1","chunk-7e81f178":"e7dce656","chunk-931118e8":"4a609cc7","chunk-9a42b200":"a656cc0b","chunk-e4035ac0":"61f3db5d"}[e]+".js"}function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-1835f624":1,"chunk-5ab23881":1,"chunk-9a42b200":1,"chunk-e4035ac0":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var c="css/"+({}[e]||e)+"."+{"chunk-0322802a":"31d6cfe0","chunk-176c747f":"31d6cfe0","chunk-1835f624":"c03e26c6","chunk-1f0b8032":"31d6cfe0","chunk-2a62c222":"31d6cfe0","chunk-2d213365":"31d6cfe0","chunk-45f14e21":"31d6cfe0","chunk-57757e35":"31d6cfe0","chunk-5ab23881":"c03e26c6","chunk-63503417":"31d6cfe0","chunk-6b1bb9e7":"31d6cfe0","chunk-6b766f9c":"31d6cfe0","chunk-74f551bf":"31d6cfe0","chunk-7ab2493a":"31d6cfe0","chunk-7e81f178":"31d6cfe0","chunk-931118e8":"31d6cfe0","chunk-9a42b200":"f4cfb165","chunk-e4035ac0":"f189db27"}[e]+".css",a=i.p+c,r=document.getElementsByTagName("link"),u=0;u<r.length;u++){var s=r[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===c||d===a))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],d=s.getAttribute("data-href");if(d===c||d===a)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var c=t&&t.target&&t.target.src||a,r=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=c,delete o[e],l.parentNode.removeChild(l),n(r)},l.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(l)})).then((function(){o[e]=0})));var c=a[e];if(0!==c)if(c)t.push(c[2]);else{var r=new Promise((function(t,n){c=a[e]=[t,n]}));t.push(c[2]=r);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(e);var f=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+c+": "+o+")",f.name="ChunkLoadError",f.type=c,f.request=o,n[1](f)}a[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/EmilyShop/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var l=d;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("4de4"),n("4160"),n("b64b"),n("159b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("2b0e"),o=n("2f62"),a=n("bc3a"),r=n.n(a),u=n("2106"),i=n.n(u),s=n("9062"),d=n.n(s),f=(n("e40d"),n("4989"),n("f5af")),l=n.n(f),h=(n("e829"),n("7212")),p=n.n(h),m=(n("bbe3"),n("6d3b")),b=n("5dc8"),g=n("b42f"),v=n("d17a"),k=n("fb03"),E=n.n(k),O=n("7bb1"),S=n("4c93"),y=n("60d4");c["default"].prototype.$bus=new c["default"];var A=n("1157"),T=n.n(A),_=function(e){var t=new Date(1e3*e);return t.toLocaleDateString()},D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},I=[],w={name:"App"},M=w,P=(n("5c0b"),n("2877")),L=Object(P["a"])(M,D,I,!1,null,null,null),R=L.exports,G=(n("d3b7"),n("8c4f"));c["default"].use(G["a"]);var C=[{path:"/",component:function(){return n.e("chunk-1835f624").then(n.bind(null,"ae58"))},children:[{path:"",name:"Home",component:function(){return n.e("chunk-1f0b8032").then(n.bind(null,"ec5a"))}},{path:"login",name:"Login",component:function(){return n.e("chunk-2d213365").then(n.bind(null,"ac5b"))}},{path:"about",name:"About",component:function(){return n.e("chunk-2a62c222").then(n.bind(null,"9cbb"))}},{path:"products",name:"Products",component:function(){return n.e("chunk-176c747f").then(n.bind(null,"ed84"))}},{path:"/product/:id",name:"ProductDetail",component:function(){return n.e("chunk-0322802a").then(n.bind(null,"658f"))}},{path:"orders",name:"Orders",component:function(){return n.e("chunk-7e81f178").then(n.bind(null,"b5df"))}},{path:"cart",name:"Cart",component:function(){return n.e("chunk-931118e8").then(n.bind(null,"62b3"))}},{path:"/checkout",component:function(){return n.e("chunk-45f14e21").then(n.bind(null,"f4b2"))},children:[{path:"order_create",name:"OrderCreate",component:function(){return n.e("chunk-6b766f9c").then(n.bind(null,"e28c"))}},{path:"order_paying/:orderId",name:"OrderPaying",component:function(){return n.e("chunk-63503417").then(n.bind(null,"0635"))}},{path:"order_paid/:orderId",name:"OrderPaid",component:function(){return n.e("chunk-6b1bb9e7").then(n.bind(null,"8011"))}}]}]},{path:"/admin",component:function(){return n.e("chunk-5ab23881").then(n.bind(null,"a76a"))},children:[{path:"products",name:"BackProducts",component:function(){return n.e("chunk-e4035ac0").then(n.bind(null,"5305"))},meta:{requiresAuth:!0}},{path:"coupon",name:"BackCoupon",component:function(){return n.e("chunk-57757e35").then(n.bind(null,"cad1"))},meta:{requiresAuth:!0}},{path:"orders",name:"BackOrders",component:function(){return n.e("chunk-7ab2493a").then(n.bind(null,"0cbc"))},meta:{requiresAuth:!0}}]},{path:"/backstage",component:function(){return n.e("chunk-5ab23881").then(n.bind(null,"a76a"))},children:[{path:"shopping",name:"Backshopping",component:function(){return n.e("chunk-9a42b200").then(n.bind(null,"b639"))}},{path:"back_order_checkout/:orderId",name:"BackOrderCheckout",component:function(){return n.e("chunk-74f551bf").then(n.bind(null,"6c3f"))}}]},{path:"*",redirect:"/"}],N=new G["a"]({routes:C,linkActiveClass:"active",scrollBehavior:function(e,t,n){return{x:0,y:0}}}),F=N,j=(n("99af"),n("c740"),n("a630"),n("a434"),n("6062"),n("3ca3"),n("ddb0"),{namespaced:!0,state:{messages:[]},getters:{messages:function(e){return e.messages}},mutations:{UPDATE_MESSAGE:function(e,t){e.messages.push(t)},REMOVE_MESSAGE:function(e,t){e.messages.splice(t,1)}},actions:{updateMessage:function(e,t){var n=t.message,c=t.status,o=Math.floor(new Date/1e3);e.commit("UPDATE_MESSAGE",{message:n,status:c,timestamp:o}),e.dispatch("removeMessageWithTiming",o)},removeMessageWithTiming:function(e,t){setTimeout((function(){e.state.messages.forEach((function(n,c){n.timestamp===t&&e.commit("REMOVE_MESSAGE",c)}))}),5e3)},removeMessage:function(e,t){e.commit("REMOVE_MESSAGE",t)}}}),x={namespaced:!0,state:{products:[],product:{},favorites:[],categories:[]},actions:{getProducts:function(e){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("emily","/products/all");e.commit("LOADING",!0,{root:!0}),r.a.get(t).then((function(t){e.commit("GET_PRODUCTS",t.data.products),e.commit("CATEGORIES",t.data.products),e.commit("LOADING",!1,{root:!0})}))},getProduct:function(e,t){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("emily","/product/").concat(t);e.commit("LOADING",!0,{root:!0}),r.a.get(n).then((function(t){e.commit("GET_PRODUCT",t.data.product),T()("#productModal").modal("show"),e.commit("LOADING",!1,{root:!0})}))},getFavorites:function(e){var t=JSON.parse(localStorage.getItem("favorites"))||[];e.commit("SET_FAVORITES",t)},addToFavorites:function(e,t){e.commit("ADD_FAVORITES",t),localStorage.setItem("favorites",JSON.stringify(e.state.favorites)),e.commit("SET_FAVORITES",e.state.favorites),e.dispatch("getFavorites"),e.dispatch("alertModules/updateMessage",{message:"已加入我的最愛",status:"info"})},removeFavoritesItem:function(e,t){e.commit("DEL_FAVORITES",t),localStorage.setItem("favorites",JSON.stringify(e.state.favorites)),e.commit("SET_FAVORITES",e.state.favorites),e.dispatch("getFavorites"),e.dispatch("alertModules/updateMessage",{message:"已刪除我的最愛",status:"danger"})},delFavoriteAll:function(e){localStorage.removeItem("favorites"),e.dispatch("getFavorites")}},mutations:{ADD_FAVORITES:function(e,t){e.favorites.push(t)},DEL_FAVORITES:function(e,t){var n=e.favorites.findIndex((function(e){return e.id===t.id}));e.favorites.splice(n,1)},SET_FAVORITES:function(e,t){e.favorites=t},GET_PRODUCTS:function(e,t){e.products=t},GET_PRODUCT:function(e,t){e.product=t},CATEGORIES:function(e,t){var n=new Set;t.forEach((function(e){n.add(e.category)})),e.categories=Array.from(n)}},getters:{products:function(e){return e.products},product:function(e){return e.product},categories:function(e){return e.categories},favorites:function(e){return e.favorites}},modules:{alertModules:j}};c["default"].use(o["a"]);var V=new o["a"].Store({strict:!0,state:{isLoading:!1,order:{products:{},user:{}},orderStep:"create"},actions:{updateLoading:function(e,t){e.commit("LOADING",t)},getOrder:function(e,t){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("emily","/order/").concat(t);e.commit("LOADING",!0),r.a.get(n).then((function(t){e.commit("GET_ORDER",t.data.order),e.commit("LOADING",!1)}))},payOrder:function(e,t){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("emily","/pay/").concat(t);e.commit("LOADING",!0),r.a.post(n).then((function(n){n.data.success&&(e.dispatch("getOrder",t),e.dispatch("alertModules/updateMessage",{message:"付款完成",status:"info"})),e.commit("LOADING",!1)}))},setOrderStep:function(e,t){e.commit("SET_ORDER_STEP",t)}},mutations:{LOADING:function(e,t){e.isLoading=t},GET_ORDER:function(e,t){e.order=t},SET_ORDER_STEP:function(e,t){e.orderStep=t}},getters:{isLoading:function(e){return e.isLoading},order:function(e){return e.order},orderStep:function(e){return e.orderStep}},modules:{alertModules:j,productModules:x}}),B=(n("a9e3"),n("b680"),n("ac1f"),n("5319"),function(e){var t=Number(e);return"$".concat(t.toFixed(0).replace(/./g,(function(e,t,n){var c=t&&"."!==e&&(n.length-t)%3===0?", ".concat(e).replace(/\s/g,""):e;return c})))});c["default"].use(i.a,r.a),c["default"].use(o["a"]),c["default"].config.productionTip=!1,c["default"].component("Loading",d.a),c["default"].filter("currency",B),c["default"].filter("date",_),c["default"].use(p.a),m["a"].use([b["a"],g["a"],v["a"]]),c["default"].use(E()(m["a"])),Object.keys(S).forEach((function(e){Object(O["d"])(e,S[e])})),c["default"].component("ValidationProvider",O["b"]),c["default"].component("ValidationObserver",O["a"]),Object(O["e"])("zh_TW",y),Object(O["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),r.a.defaults.withCredentials=!0,window.$=T.a,new c["default"]({created:function(){l.a.init({duration:600})},router:F,store:V,render:function(e){return e(R)}}).$mount("#app"),F.beforeEach((function(e,t,n){if(e.meta.requiresAuth){var c="".concat("https://vue-course-api.hexschool.io","/api/user/check");r.a.post(c).then((function(e){e.data.success?n():n({path:"/login"})}))}else n()}))},"5c0b":function(e,t,n){"use strict";n("9c0c")},"9c0c":function(e,t,n){}});
//# sourceMappingURL=app.1a9f3803.js.map